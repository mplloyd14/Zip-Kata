!function(a,b){"use strict";b["true"]=a,angular.module("evo.templates").run(["$templateCache",function(a){a.put("client/about/about.html",'<div id="evo-about-container" ng-show="isOpen"> <div class="modal"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <img ng-src="{{ logo }}" ng-show="logo.length"> <h3>{{ "txtAbout" | i18n }}</h3> </div> <!-- /.modal-header --> <div class="modal-body"> <div class="evo-about-product"> <h4>{{ productTitle }}</h4> <ul> <li class="evo-about-version"> <label>{{ "lblProductVersion" | i18n }}:</label>&nbsp;{{ meta.build.app.version }} </li> <li class="evo-about-date"> <label>{{ "lblProductBuildDate" | i18n }}:</label>&nbsp;{{ meta.build.app.date | date: "longDate" }} </li> </ul> </div> <hr ckass="cai-background-color-primary"> <!-- /.evo-about-product --> <div class="evo-about-core"> <h4>Core</h4> <ul> <li class="evo-about-version"> <label>{{ "lblCoreLibraryVersion" | i18n }}:</label>&nbsp;{{ meta.build.core.version }} </li> <li class="evo-about-date"> <label>{{ "lblCoreLibraryBuildDate" | i18n }}:</label>&nbsp;{{ meta.build.core.date | date: "longDate" }} </li> </ul> </div> <!-- /.evo-about-core --> </div> <!-- /.modal-body --> <div class="modal-footer"> <button class="btn btn-primary evo-btn-primary" ng-click="closeModal()">{{ "txtClose" | i18n }}</button> </div> <!-- /.modal-footer --> </div> </div> </div> <!-- /.modal --> <div class="modal-backdrop"></div> </div> <!-- /#evo-about-modal -->')}]),angular.module("evo.api",["evo.utils","evo.user","evo.client.config"]),angular.module("evo.api").factory("evoAPIErrors",[function(){var a={5:"Timeout calling server"},b={};return b.getByCode=function(b,c){return{errorNum:b,errorMsg:a[b]||c}},b}]).factory("evoAPI",["$log","$rootScope","$timeout","$q","$window","evoUser","evoConfig","evoUtils","evoAPIErrors",function(a,b,c,d,e,f,g,h,i){function j(c){p.hasOwnProperty(c.id)&&(a.error("Call timed out: "+p[c.id].name),b.$apply(p[c.id].deferred.reject(i.getByCode(5))),delete p[c.id])}function k(a){a.timeout=c(function(){j(a)},s),r.write(a)}if(!e.Primus)throw new Error("Required third-party library 'Primus' is missing.");var l=g.get("appBase");e.Primus.prototype.pathname=l?l+(e.Primus.prototype.pathname||"/primus"):e.Primus.prototype.pathname||"/primus";var m={},n=!1,p={},q=[],r=e.Primus.connect(g.get("socket_server")+":"+g.get("socket_port")),s=g.get("socket_timeout",4e3),t=c(function(){angular.forEach(q,j),q=[],n=!0,a.error("Socket connection timed out.")},s);return r.on("open",function(){a.info("Primus socket connection initialized."),angular.forEach(q,k),q=[],n=!0,c.cancel(t)}),r.on("data",function(d){a.info("Primus socket data recv."),p.hasOwnProperty(d.id)?(c.cancel(d.timeout),b.$apply(d.result&&d.result.hasOwnProperty("errorNum")?p[d.id].deferred.reject(d):d.result&&d.result.hasOwnProperty("errno")?p[d.id].deferred.reject(i.getByCode(o.result.errno,o.result.code)):p[d.id].deferred.resolve(d)),delete p[d.id]):d.event&&d.message&&b.$emit(d.event,d.message)}),m.callFunction=function(a,b){var c=d.defer(),e={id:h.getRandString(10),name:a,params:b,user:f.data,context:f.context};return p[e.id]={deferred:c,name:a},n?k(e):q.push(e),c.promise},m}]),describe("apiProvider",function(){{var a,b,c,d,e,f,g,h,i,j,k=(chai.assert,chai.expect);chai.should()}beforeEach(function(){g={},h={},h.company="unitest",f={},f.get=sinon.stub(),f.get.withArgs("socket_server").returns("https://192.168.0.0"),f.get.withArgs("socket_port").returns(3004),f.get.withArgs("socket_timeout").returns(100),e={},e.error=sinon.spy(),e.info=sinon.spy(),e.setTransports=sinon.stub(),e.resetTransports=sinon.stub(),b=function(){var a=this,b={},c=[];a.on=function(a,c){b[a]=c},a.write=function(a){c.push(a)},a.simulateConnect=function(){b.open()},a.simulateMessage=function(){c.forEach(function(a,d,e){b.data({id:c[d].id,name:c[d].name,timeout:c[d].timeout,result:"YES!"})})},a.simulateEvent=function(a,c){b.data({event:a,message:c})}},c=new b,d={},d.Primus={},d.Primus.connect=sinon.stub().returns(c),angular.module("apiProvider",["evo.utils","evo.user","evo.client.config","evo.api","ngCookies"]).factory("evoConfig",function(){return f}).factory("evoUser",function(){return{data:g,context:h}}).factory("$log",function(){return e}).factory("$window",function(){return d})}),describe("interface",function(){beforeEach(function(){module("apiProvider"),inject(function(b){a=b})}),it("should contain an service",function(){k(a).to.not.equal(null)}),it("should contain a callFunction function",function(){a.callFunction.should.exist})}),describe("configuration",function(){describe("options passed",function(){beforeEach(function(){module("apiProvider"),inject(function(b){a=b})}),it("should connect on the configured port",function(){d.Primus.connect.should.have.been.calledOnce,k(d.Primus.connect.getCall(0).args[0]).to.equal("https://192.168.0.0:3004")})})}),describe("connection",function(){beforeEach(function(){module("apiProvider"),inject(["$timeout","evoAPI",function(b,c){i=b,a=c}])}),it("should log message if connection is successful",function(){c.simulateConnect(),e.info.should.have.been.calledOnce,k(e.info.getCall(0).args[0]).to.equal("Primus socket connection initialized.")}),it("should timeout with error if connection fails",function(){i.flush(),e.error.should.have.been.calledOnce,k(e.error.getCall(0).args[0]).to.equal("Socket connection timed out.")}),it("should cancel timeout if connection is successful",function(){c.simulateConnect();try{i.flush()}catch(a){}e.error.should.not.have.been.called}),it("should handle any calls made before the connection was made",function(b){a.callFunction("testMethod").should.eventually.have.property("name","testMethod").notify(b),a.callFunction("testMethod2").should.eventually.have.property("name","testMethod2").notify(b),c.simulateConnect(),c.simulateMessage(),c.simulateMessage()})}),describe("callFunction",function(){beforeEach(function(){module("apiProvider"),inject(["$timeout","$rootScope","evoAPI",function(b,c,d){i=b,j=c,a=d}])}),it("should resolve calls to callFunction with no params",function(b){c.simulateConnect(),a.callFunction("testMethod").should.eventually.have.property("name","testMethod").notify(b),c.simulateMessage()}),it("should resolve calls to callFunction with params",function(b){c.simulateConnect(),a.callFunction("testMethod",{test:!0}).should.eventually.have.property("name","testMethod").notify(b),c.simulateMessage()}),it("should resolve multiple calls",function(b){c.simulateConnect(),a.callFunction("testMethod1",{test:!0}).should.eventually.have.property("name","testMethod1"),a.callFunction("testMethod2",{test:!0}).should.eventually.have.property("name","testMethod2"),a.callFunction("testMethod3",{test:!0}).should.eventually.have.property("name","testMethod3"),a.callFunction("testMethod4",{test:!0}).should.eventually.have.property("name","testMethod4").notify(b),c.simulateMessage(),c.simulateMessage(),c.simulateMessage(),c.simulateMessage()}),it("should reject calls that timeout",function(b){c.simulateConnect(),a.callFunction("testMethod",{test:!0}).should.be.rejected.then(function(){e.error.should.have.been.calledOnce,k(e.error.getCall(0).args[0]).to.equal("Call timed out: testMethod")}).should.notify(b),i.flush()})}),describe("on event",function(){var b,d;beforeEach(function(){module("apiProvider"),inject(["$rootScope","evoAPI",function(b,c){j=b,a=c}]),b=sinon.stub(),d=sinon.stub(),j.$on("foo",b),j.$on("foo",d)}),it("should resolve calls to event handlers",function(){c.simulateConnect(),c.simulateEvent("foo",{bar:1}),b.should.have.been.calledOnce;var a=b.getCall(0).args;k(a[1]).to.deep.equal({bar:1}),d.should.have.been.calledOnce,a=d.getCall(0).args,k(a[1]).to.deep.equal({bar:1})})})}),angular.module("evo.client.about").directive("evoAboutModal",["evoAbout",function(a){return{restrict:"E",templateUrl:"client/about/about.html",link:function(b,c,d){b.productTitle=d.productTitle,b.logo=d.logo,b.meta=a.meta,b.closeModal=a.closeModal,b.$watch(function(){return a.isOpen},function(){b.isOpen=arguments[0]})}}}]),angular.module("evo.client.about",["evo.client.config"]),angular.module("evo.client.about").service("evoAbout",["$window","evoConfig",function(a,b){if(!a.moment)throw new Error("Missing third-party library 'Moment'.");var c=this;c.meta=b.get("meta",{});try{c.meta.build.core.date=moment(c.meta.build.core.date,"YYYY-MM-DD HH:mm:ss Z").toDate(),c.meta.build.app.date=moment(c.meta.build.app.date,"YYYY-MM-DD HH:mm:ss Z").toDate()}catch(d){}c.openModal=function(){c.isOpen||(c.isOpen=!0)},c.closeModal=function(){c.isOpen&&(c.isOpen=0)}}]),describe("caiAbout",function(){var a,b,c=chai.expect,d={};beforeEach(function(){d.clientData={config:{clientA:"value_a",clientB:["value_b0","value_b1"],clientC:{d:"value_d"},log:{transports:[]}},meta:{build:{core:{version:"0.1.27",date:"2015-01-16 22:20:01 -02:00"},app:{version:"0.0.1",date:"2015-01-17 22:20:01 -02:00"}},copyright:{currentYear:(new Date).getFullYear()}}},module("evo.client"),module("evo.client.config"),angular.module("core",["evo.utils","ngCookies"]).factory("$cookies",function(){return{clientData:btoa(JSON.stringify(d.clientData))}}),module("core")}),beforeEach(inject(function(c,d,e){b=e,a=angular.element("<evo-About-Modal data-ng-model='aboutModal'></evo-About-Modal>"),d(a)(e),angular.element(document.body).append(a),b.$digest()})),it("should return build app version",function(){c(angular.element(document.querySelector("#txtAppVersion")).text()).to.equal("0.0.1")}),it("should return build app date",function(){c(angular.element(document.querySelector("#txtAppDate")).text()).to.equal("January 17, 2015")}),it("should return build core version",function(){c(angular.element(document.querySelector("#txtCoreVersion")).text()).to.equal("0.1.27")}),it("should return build core date",function(){c(angular.element(document.querySelector("#txtCoreDate")).text()).to.equal("January 16, 2015")}),it("should return Copyright Current Year",function(){var a=(new Date).getFullYear().toString();c(angular.element(document.querySelector("#txtCopyrightCurrentYear")).text()).to.equal(a)})}),angular.module("evo.client.browser",[]),angular.module("evo.client.browser").factory("evoBrowser",[function(){function a(a){for(var b=0,c=a[b];c=a[b++];)if(f=c.versionSearch||c.identity,c.string&&-1!==c.string.indexOf(c.subString)||c.prop)return c.identity;return null}function b(a){var b=a.indexOf(f);return-1!==b?parseFloat(a.substring(b+f.length+1)):null}var c=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],d=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],e={},f="";return e.browser=a(c)||"unknown",e.version=b(navigator.userAgent)||b(navigator.appVersion)||"unknown",e.os=a(d)||"unknown",e.supportsCSS3Animation=function(){return!("Explorer"==e.browser&&e.version<10)},e}]),describe("browser service",function(){function a(a,b,c,d){module(function(e){e.service("navigatorService",function(){return{userAgent:a,appVersion:b,vendor:c,platform:d}})})}var b=chai.expect;beforeEach(function(){angular.module("browser",["evo.client.browser","ngCookies"]),module("browser")}),describe("chrome",function(){beforeEach(function(){a("blahblah-Chrome-blah","23.10","google","linux")}),it("should identify chrome",inject(function(a){b(a.browser).to.equal("Chrome")}))}),describe("IE 9",function(){beforeEach(function(){a("blahblah-MSIE-blah","MSIE 9","microsoft","windows")}),it("should identify IE 9",inject(function(a){b(a.browser).to.equal("Explorer"),b(a.version).to.equal(9)}))}),describe("IE 11",function(){beforeEach(function(){a("blahblah-MSIE-blah","MSIE 11","microsoft","windows")}),it("should identify IE 9",inject(function(a){b(a.browser).to.equal("Explorer"),b(a.version).to.equal(11)}))})}),angular.module("evo.client",["ngCookies","evo.utils","evo.client.browser","evo.client.about"]),angular.module("evo.client").factory("evoClientData",["$cookies","evoUtils",function(a,b){var c={};try{c=JSON.parse(b.base64Encoder("atob","decode",a.clientData))}catch(d){c={config:{}}}return c.atob=function(a){return b.base64Encoder("atob","decode",a)},c.btoa=function(a){return b.base64Encoder("btoa","encode",a)},c}]),describe("client service",function(){var a=chai.expect,b={};beforeEach(function(){b.clientData={config:{clientA:"value_a",clientB:["value_b0","value_b1"],clientC:{d:"value_d"},log:{transports:[]}}},angular.module("core",["evo.client","ngCookies"]).factory("$cookies",function(){return{clientData:btoa(JSON.stringify(b.clientData))}}),module("core")}),it("should return server data",inject(function(c){a(c.config).to.eql(b.clientData.config)})),it("should provide btoa and atob functionality",inject(function(b){var c="hello world",d=btoa(c);a(b.btoa(c)).to.equal(d),a(b.atob(d)).to.equal(c)}))}),angular.module("evo.client.config",[]),angular.module("evo.client.config").factory("evoConfig",["evoClientData",function(a){var b={};return b.get=function(b,c){return a[b]||a.config[b]||c},b}]),describe("configuration service",function(){beforeEach(function(){angular.module("config",["evo.client","ngCookies"]).factory("evoClientData",function(){return{config:{clientA:"value_a",clientB:["value_b0","value_b1"],clientC:{d:"value_d"},log:{transports:[]}}}}),module("config")}),it("should return config values",inject(function(a){expect(a.get("clientA")).to.equal("value_a"),expect(a.get("clientB")).to.eql(["value_b0","value_b1"]),expect(a.get("clientC")).to.eql({d:"value_d"})})),it("should return undefined for non-existant config values",inject(function(a){expect(a.get("clientD")).not.to.be.defined}))}),angular.module("evo.locale",["i18n"]),angular.module("evo.templates",[]),angular.module("evo.templates").factory("evoTemplates",["$templateCache",function(a){var b={};return b.cacheTemplates=function(b){angular.isArray(b)&&b.length&&angular.forEach(b,function(b,c){a.get(b.name)||a.put(b.name,(b.reference?a.get(b.reference):b.content)||"")})},b}]),describe("templates service",function(){var a=chai.expect,b={};beforeEach(function(){angular.module("templates",["evo.templates","ngCookies"]),module("templates"),b.templates=[{name:"foo",content:"label"},{name:"bar",content:"input"}]}),describe("cache populated",function(){beforeEach(inject(function(a,c){b.templates.forEach(function(b){a.put(b.name,"before")}),c.cacheTemplates(b.templates)})),it("should not default any templates",inject(function(c){b.templates.forEach(function(b){a(c.get(b.name)).to.equal("before")})}))}),describe("cache not populated",function(){beforeEach(inject(function(a,c){c.cacheTemplates(b.templates)})),it("should default all templates",inject(function(c){b.templates.forEach(function(b){a(c.get(b.name)).to.equal(b.content)})}))}),describe("cache partially populated",function(){beforeEach(inject(function(a,c){a.put(b.templates[1].name,"before"),c.cacheTemplates(b.templates)})),it("should default one template",inject(function(c){a(c.get(b.templates[0].name)).to.equal(b.templates[0].content),a(c.get(b.templates[1].name)).to.equal("before")}))}),describe("cache partially populated, no content",function(){beforeEach(inject(function(a,c){a.put(b.templates[1].name,"before"),delete b.templates[0].content,delete b.templates[1].content,c.cacheTemplates(b.templates)})),it("should default one template",inject(function(c){a(c.get(b.templates[0].name)).to.equal(""),a(c.get(b.templates[1].name)).to.equal("before")}))}),describe("cache partially populated, reference template",function(){beforeEach(inject(function(a,c){a.put("fubar","foo bar"),a.put(b.templates[1].name,"before"),delete b.templates[0].content,b.templates[0].reference="fubar",delete b.templates[1].content,c.cacheTemplates(b.templates)})),it("should default one template",inject(function(c){a(c.get(b.templates[0].name)).to.equal("foo bar"),a(c.get(b.templates[1].name)).to.equal("before")}))})}),angular.module("evo.user",["ngCookies","evo.utils","evo.user.validation"]),angular.module("evo.user").factory("evoUser",["$cookies","evoUtils",function(a,b){var c={},d={};try{c.data=JSON.parse(b.base64Encoder("atob","decode",a.userData)).user,c.context=JSON.parse(a.contextData),d=c.data.product.roles.concat(Object.keys(c.data.product.settings.permissions).filter(function(a){return c.data.product.settings.permissions[a]}))}catch(e){}return c.isLoggedIn=!!c.data,c.atob=function(a){return b.base64Encoder("atob","decode",a)},c.btoa=function(a){return b.base64Encoder("btoa","encode",a)},c.hasPrivilege=function(a){return d.indexOf(a)>=0},c.hasSomePrivileges=function(a){for(var b=0,d=a.length;d>b;b++)if(c.hasPrivilege(a[b]))return!0;return!1},c.hasAllPrivileges=function(a){for(var b=0,d=a.length;d>b;b++)if(!c.hasPrivilege(a[b]))return!1;return!0},c}]),describe("user data service",function(){var a=chai.expect;describe("if user is logged in",function(){beforeEach(function(){var a={user:{clientA:"value_a",clientB:["value_b0","value_b1"],clientC:{d:"value_d"}}},b=btoa(JSON.stringify(a));angular.module("user",["evo.user","ngCookies"]).factory("$cookies",function(){return{userData:b}}),module("evo.utils"),module("user")}),it("user object should be defined",inject(function(b){a(b.data).to.be.defined})),it("should return user values",inject(function(b){a(b.data.clientA).to.equal("value_a"),a(b.data.clientB).to.eql(["value_b0","value_b1"]),a(b.data.clientC).to.eql({d:"value_d"})})),it("user isLoggedIn should return true",inject(function(b){a(b.isLoggedIn).to.be["true"]}))}),describe("if user is not logged in",function(){beforeEach(function(){var a=btoa(JSON.stringify({user:null}));angular.module("user",["evo.user","ngCookies"]).factory("$cookies",function(){return{userData:a}}),module("evo.utils"),module("user")}),it("user isLoggedIn should return false",inject(function(b){a(b.isLoggedIn).to.be["false"]}))})}),angular.module("evo.user.validation",["evo.utils"]),angular.module("evo.user.validation").factory("evoValidation",["evoRegExp",function(a){function b(a){return-1!=a.search(/[a-z]/)}function c(a){return-1!=a.search(/[A-Z]/)}function d(a){return-1!=a.search(/[0-9]/)}function e(b){return-1!=b.search(a.specialChar)}function f(b){return null==b||!a.emptyString.test(b)}var g={};return g.passwordStrength=function(a){if(f(a)||a.length<8)return 0;var g=0;g+=b(a)?26:0,g+=c(a)?26:0,g+=d(a)?10:0,g+=e(a)?20:0;var h=Math.pow(g,a.length);return h<Math.pow(56,8)?0:h<Math.pow(56,11)?1:h<Math.pow(56,15)?2:3},g}]),describe("string validation service",function(){var a=chai.expect;beforeEach(function(){angular.module("validation",["evo.user.validation","ngCookies"]),module("validation")}),describe("passwordStrength",function(){it("should return 0 if string is unacceptable password",inject(function(b){a(b.passwordStrength("abcdefghi")).to.equal(0),a(b.passwordStrength("abcd1234")).to.equal(0),a(b.passwordStrength("abc123!")).to.equal(0)})),it("should return 1 if string is weak password",inject(function(b){a(b.passwordStrength("abcdefghijk")).to.equal(1),a(b.passwordStrength("abcd1234567")).to.equal(1),a(b.passwordStrength("abcd123!")).to.equal(1)})),it("should return 2 if string is moderate password",inject(function(b){a(b.passwordStrength("abcdefghijklmno")).to.equal(2),a(b.passwordStrength("abcdefg12345678")).to.equal(2),a(b.passwordStrength("abcdefg123456!")).to.equal(2)})),it("should return 3 if string is strong password",inject(function(b){a(b.passwordStrength("abcdefghijklmnopqrst")).to.equal(3),a(b.passwordStrength("abcdefghij1234567890")).to.equal(3),a(b.passwordStrength("abcdefg123456!#")).to.equal(3)}))})}),angular.module("evo.utils",[]),angular.module("evo.utils").value("evoRegExp",{specialChar:/(?!^[0-9a-zA-Z]*$)(^.*$)/,email:/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,username:/^[a-z0-9_-]{3,16}$/,password:/^[a-z0-9_-]{6,18}$/,hexValue:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/,url:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,htmlTag:/^<([a-z]+)([^<]+)*(?:>(.*)<\/\1>|\s+\/>)$/,emptyString:/[^\s]+/}).value("evoStrings",{letters:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",digits:"0123456789",hexdigits:"0123456789abcdefABCDEF",octdigits:"01234567",punctuation:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",whitespace:" 	\n\r\f"}).factory("evoUtils",["$window","evoStrings",function(a,b){function c(a){return null==a||!/[^\s]+/.test(a)}var d={};return d.sprintf=function(){for(var a=angular.isArray(arguments[0])?arguments[0]:arguments,b=1,c=a.length,d=a[0];c>b;b++)d=d.replace(/%s/i,a[b]);return d},d.getRandString=function(a,c){var e=b.letters+b.digits+(c&&b.punctuation||""),f=[];for(isNaN(a)&&(a=16);f.length!==a;)f.push(e[Math.floor(d.randRange(0,e.length))]);return f.join("")},d.base64Encoder=function(b,c,d){return(a[b]?a[b]:base64[c])(d)},d.randRange=function(a,b){return Number(a+Math.random()*(b-a+1))},d.getMaxNum=function(a){return Math.max.apply(null,angular.isArray(a)?a:arguments)},d.getMinNum=function(a){return Math.min.apply(null,angular.isArray(a)?a:arguments)},d.roundNumber=function(a,b){if(c(a)||isNaN(a)||isNaN(b))throw new Error("Incorrect argument type(s).");var d=Math.pow(10,b);return Math.round(a*d)/d},d}]),describe("utilities",function(){var a=chai.expect,b={};beforeEach(function(){angular.module("utilities",["evo.utils","ngCookies"])}),describe("roundNumber function",function(){beforeEach(function(){module("utilities"),inject(["evoUtils",function(a){b=a}])}),it("should return null when values isn�t numeric",inject(function(){a(function(){b.roundNumber("a",1)}).to["throw"](Error)})),it("should return null when values is empty",inject(function(){a(function(){b.roundNumber("",1)}).to["throw"](Error)})),it("should return null when values is undefined",inject(function(){a(function(){b.roundNumber(void 0,1)}).to["throw"](Error)})),it("should return null when values is blank",inject(function(){a(function(){b.roundNumber(" ",1)}).to["throw"](Error)})),it("should return the number rounded to one decimal place",inject(function(){a(b.roundNumber(500.15,1)).to.equal(500.2),a(b.roundNumber(500.1599999,1)).to.equal(500.2),a(b.roundNumber(500.14,1)).to.equal(500.1),a(b.roundNumber(500.144444,1)).to.equal(500.1),a(b.roundNumber(500.149999,1)).to.equal(500.1)})),it("should return the number rounded to two decimal place",inject(function(){a(b.roundNumber(500.159,2)).to.equal(500.16),a(b.roundNumber(500.1599999,2)).to.equal(500.16),a(b.roundNumber(500.144,2)).to.equal(500.14),a(b.roundNumber(500.144444,2)).to.equal(500.14),a(b.roundNumber(500.149999,2)).to.equal(500.15)}))})}),angular.module("evo.utils.uuid",[]),angular.module("evo.utils.uuid").factory("evoUUID",[function(){function a(a){for(var b=0,c="";a>b;b++)c+=Math.floor(16*Math.random()).toString(16).toUpperCase();return c}var b={};return b.uuid4=function(){for(var b=[],c=0;20>=c;c++)c>=8&&(8===c?b.push(a(8)):c%4===0&&b.push(a(4)));return b.push(a(12)),b.join("-")},b}]),describe("Testing client-side Service",function(){var a=chai.expect;describe("GUID",function(){var b;beforeEach(function(){angular.module("guid",["evo.utils.uuid","ngCookies"]),module("guid"),inject(function(a){b=a})}),it("should inject a service for guid and guid should exist",function(){b.should.exist}),it("should have a function named uuid4",function(){b.uuid4.should.exist}),it("should call uuid4 and get a string of the desired length",function(){var c=b.uuid4();a(c.length).to.equal(36)}),it("should return a value type string",function(){var c=b.uuid4();a(typeof c).to.equal("string")}),it("should not return an undefined value for the guid",function(){a(b.uuid4()).to.not.equal(void 0)}),it("should not return duplicate guids",function(){var c=b.uuid4(),d=b.uuid4();a(c).to.not.equal(d)})})});var c={}||c;c.version=" ",c.module=function(a,b){var c;try{c=angular.module(a)}catch(d){c=angular.module(a,b||[])}return c},window.evo=c,angular.module("evo",["evo.utils","evo.client","evo.user","evo.api","evo.locale","evo.templates"])}({},function(){return this}());